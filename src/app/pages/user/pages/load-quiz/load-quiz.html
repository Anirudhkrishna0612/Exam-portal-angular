<!-- src/app/pages/user/pages/load-quiz/load-quiz.html -->

<div class="bootstrap-wrapper">
    <div class="container-fluid mt20">
        <div class="row">
            <div class="col-md-12">
                <h1 class="text-center">Available Quizzes</h1>
                <mat-card class="quiz-card mt20" *ngFor="let q of quizzes">
                    <mat-card-header>
                        <mat-card-title>{{ q.title }}</mat-card-title>
                        <mat-card-subtitle>{{ q.category?.title || 'General' }}</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>{{ q.description }}</p>
                        <p><b>Questions:</b> {{ q.numberOfQuestions }}</p>
                        <p><b>M.M:</b> {{ q.maxMarks }}</p>
                    </mat-card-content>
                    <mat-card-actions class="quiz-actions">
                        <!-- FIX: Pass quiz.qid and quiz.title to the start-quiz page -->
                        <button mat-raised-button color="primary" class="mr10"
                            [routerLink]="['/user/start-quiz', q.qid, q.title]">Start</button>
                        <!-- FIX: Pass quiz.qid and quiz.title to the view-quiz-details page -->
                        <button mat-raised-button color="accent"
                            [routerLink]="['/user/view-quiz-details', q.qid, q.title]">View</button>
                    </mat-card-actions>
                </mat-card>
                <div *ngIf="quizzes.length === 0" class="text-center mt20">
                    <p>No quizzes available for this category yet.</p>
                </div>
            </div>
        </div>
    </div>
</div>
